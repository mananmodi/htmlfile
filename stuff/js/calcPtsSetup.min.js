(function (d) {
    var a;
    var g;
    var i = 0;
    var h = 0;

    function b(k, l) {
        var amount = l.amount;
        var amout= amount.replace("£","");
        var amount1 = amout.replace(",","");
        var cost = amount1*5;
        var cost1 = amount1*15;
        var cost2 = amount1*0.01;
        d("#totalcost").html(cost);
        d("#totalpotential").html(cost1);
        d("#totalpayback").html(cost2);
        
		 
		if(l.amount == 0) {
		   d("#signin").removeClass("signJons");
 		  }
 		 else{
   			d("#signin").addClass("signJons");
  		 }
		 
		 if(l.amount == 0) {
		   d("#signinpoupu").removeClass("signActive");
 		  }
 		 else{
   			d("#signinpoupu").addClass("signActive");
  		 }
		 
        l.id.find(".slider-content-amount").text(l.amount)
    }
    function e(k, l) {
        
        l.id.find(".pts-total-amount").text(l.pts)
    }
    function j(m, n) {
        var k;
        var l = n.id.find(".pts-content-group");
        var o = g.spread - 1;
        d.each(a, function (p) {
            k = Number(a[p].ptValue);
            if (n.pts >= k && n.pts < (k + o) && (i < k || i > (k + o))) {
                i > k ? l.showcase("createItem", "append", p) : l.showcase("createItem", "prepend", p);
                i = k;
                return false
            }
        })
    }
    function c(l) {
        var k = d("#points").slider({
            total: l.total,
            symbol: l.symbol,
            point: l.point,
            multiplier: l.multiplier
        });
        k.bind("sliderTotal", b);
        k.bind("sliderPoints", e);
        k.bind("sliderMenu", j)
    }
    function f(k) {
        d("#points").find(".pts-content-group").showcase({
            content: k
        })
    }
    d(document).ready(function () {
        d.calcPtsXML({
            xml: "stuff/xml/showcase.xml",
            type: "default"
        }, function (k, l) {
            a = this.content;
            g = this.param;
            c(this.param);
            f(this.content)
        })
    })
})(jQuery);